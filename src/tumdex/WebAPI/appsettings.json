{
  "ConnectionStrings": {
    "TumdexDb": "User ID=${POSTGRES_USER};Password=${POSTGRES_PASSWORD};Host=${POSTGRES_HOST};Port=${POSTGRES_PORT};Database=${POSTGRES_DB};"
  },
  "Redis": {
    "Host": "${REDIS_HOST}",
    "Port": "${REDIS_PORT}",
    "Password": "${REDIS_PASSWORD}"
  },
  "Security": {
    "JwtSettings": {
      "ValidateIssuerSigningKey": true,
      "ValidateIssuer": true,
      "ValidateAudience": true,
      "ValidateLifetime": true,
      "ClockSkewMinutes": 5
    },
    "Encryption": {
      "Key": "${ENCRYPTION_KEY}",
      "IV": "${ENCRYPTION_IV}"
    },
    "RateLimiting": {
      "Enabled": true,
      "RequestsPerHour": 1000,
      "PermitLimit": 100,
      "MaxConcurrentRequests": 100,
      "WindowSize": "01:00:00"
    },
    "DDoSProtection": {
      "Enabled": true,
      "MaxConcurrentRequests": 100,
      "RequestsPerMinuteThreshold": 100,
      "WindowSize": "00:01:00"
    },
    "ContentSecurityPolicy": {
      "default-src": ["'self'"],
      "script-src": ["'self'", "'unsafe-inline'", "'unsafe-eval'"],
      "style-src": ["'self'", "'unsafe-inline'"],
      "img-src": ["'self'", "data:", "https:"],
      "font-src": ["'self'"],
      "connect-src": ["'self'"]
    },
    "XFrameOptions": "DENY",
    "RequireHttps": true,
    "HstsMaxAge": 31536000
  },
  "Email": {
    "Provider": "google",
    "FromName": "${COMPANY_NAME}",
    "FromAddress": "${YANDEX_EMAIL_USERNAME}",
    "Providers": {
      "Yandex": {
        "Username": "${YANDEX_EMAIL_USERNAME}",
        "Password": "${YANDEX_EMAIL_PASSWORD}",
        "SmtpServer": "${YANDEX_SMTP_SERVER}",
        "Port": "${YANDEX_SMTP_PORT}"
      },
      "MicrosoftGraph": {
        "ClientId": "${MS_GRAPH_CLIENT_ID}",
        "ClientSecret": "${MS_GRAPH_CLIENT_SECRET}",
        "TenantId": "${MS_GRAPH_TENANT_ID}",
        "SenderAddress": "${MS_GRAPH_SENDER_ADDRESS}"
      },
      "Google": {
        "Username": "your-gmail",
        "Password": "your-app-password",
        "SmtpServer": "smtp.gmail.com",
        "Port": 587
      },
      "Custom": {
        "Username": "${CUSTOM_EMAIL_USERNAME}",
        "Password": "${CUSTOM_EMAIL_PASSWORD}",
        "SmtpServer": "${CUSTOM_SMTP_SERVER}",
        "Port": "${CUSTOM_SMTP_PORT}",
        "UseSsl": true,
        "RequireTls": true,
        "AllowInvalidCertificate": false,
        "FromName": "${CUSTOM_EMAIL_FROM_NAME}",
        "FromAddress": "${CUSTOM_EMAIL_FROM_ADDRESS}"
      }
    }
  },
  "Storage": {
    "ActiveProvider": "localstorage",
    "Providers": {
      "LocalStorage": {
        "Url": "https://www.tumdex.com/"
      },
      "Google": {
        "Url": "${GOOGLE_STORAGE_URL}",
        "CredentialsFilePath": "${GOOGLE_CREDENTIALS_FILE_PATH}"
      },
      "Cloudinary": {
        "CloudName": "${CLOUDINARY_CLOUD_NAME}",
        "ApiKey": "${CLOUDINARY_API_KEY}",
        "ApiSecret": "${CLOUDINARY_API_SECRET}",
        "Url": "${CLOUDINARY_URL}"
      }
    },
    "CompanyAssets": {
      "LogoPath": "/company/logos/tumdex-20241202122401.png"
    }
  },
  "Monitoring": {
    "Metrics": {
      "EnableDetailedLogs": true,
      "Port": 9100,
      "Path": "/metrics",
      "IncludeDefaults": true
    },
    "Alerts": {
      "Email": {
        "Enabled": true,
        "Recipients": ["${MONITORING_EMAIL}"]
      },
      "Slack": {
        "Enabled": true,
        "Channel": "${MONITORING_SLACK_CHANNEL}",
        "WebhookUrl": "${MONITORING_SLACK_WEBHOOK}"
      },
      "Thresholds": {
        "RateLimit": {
          "WarningThreshold": 80,
          "CriticalThreshold": 95,
          "TimeWindowMinutes": 5
        },
        "DDoS": {
          "RequestsPerMinute": 1000,
          "TimeWindowSeconds": 60
        },
        "Latency": {
          "WarningMs": 1000,
          "CriticalMs": 3000
        },
        "Payment": {
          "ProcessingTimeWarningMs": 5000,
          "FailureRateWarning": 5,
          "FailureRateCritical": 10
        },
        "Cart": {
          "AbandonmentRateWarning": 70,
          "AbandonmentRateCritical": 85
        },
        "Session": {
          "ConcurrentUsersWarning": 1000,
          "ConcurrentUsersCritical": 2000
        }
      }
    }
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "System": "Warning",
      "RateLimiting": "Information",
      "DDoSProtection": "Warning"
    }
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "System": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "formatter": "Serilog.Formatting.Json.JsonFormatter, Serilog"
        }
      },
      {
        "Name": "Seq",
        "Args": {
          "serverUrl": "${SEQ_SERVER_URL}",
          "apiKey": "${SEQ_API_KEY}",
          "restrictedToMinimumLevel": "Information"
        }
      }
    ],
    "Enrich": [
      "FromLogContext",
      "WithMachineName",
      "WithThreadId"
    ]
  },
  "UseAzureKeyVault": true,
  "AzureKeyVault": {
    "VaultName": "${AZURE_KEYVAULT_NAME}",
    "VaultUri": "${AZURE_KEYVAULT_URI}",
    "TenantId": "${AZURE_TENANT_ID}",
    "ClientId": "${AZURE_CLIENT_ID}",
    "ClientSecret": "${AZURE_CLIENT_SECRET}"
  },
  "RabbitMQ": {
    "Host": "${RABBITMQ_HOST}",
    "Port": "${RABBITMQ_PORT}",
    "Username": "${RABBITMQ_USERNAME}",
    "Password": "${RABBITMQ_PASSWORD}",
    "VirtualHost": "${RABBITMQ_VHOST}",
    "RetryCount": 3,
    "RetryInterval": 2,
    "PrefetchCount": 1,
    "Queues": {
      "OrderCreated": "order-created-queue",
      "CartUpdated": "cart-updated-queue",
      "StockUpdated": "stock-updated-queue",
      "OrderUpdated": "order-updated-queue"
    }
  },
  "StockReservation": {
    "CleanupIntervalSeconds": 30,
    "ReservationExpiryMinutes": 5
  },
  "OutboxSettings": {
    "RetentionDaysSuccess": 7,
    "RetentionDaysFailed": 30,
    "MaxRetryCount": 3,
    "BatchSize": 50
  },
  "CacheSettings": {
    "SlidingExpiration": 2
  },
  "CompanyInfo": {
    "Name": "${COMPANY_NAME}",
    "Address": "${COMPANY_ADDRESS}",
    "Phone": "${COMPANY_PHONE}",
    "Email": "${COMPANY_EMAIL}",
    "SocialMedia": {
      "LinkedIn": "https://linkedin.com/company/tumtrading",
      "Whatsapp": "https://wa.me/905338037714"
    }
  },
  "Newsletter": {
    "SendTime": {
      "DayOfMonth": 5,
      "Hour": 5,
      "Minute": 0
    },
    "Throttling": {
      "MaxConcurrentEmails": 5,
      "DelayBetweenEmails": 1000
    },
    "Templates": {
      "BaseUrl": "/company/logos/tumdex-20241202122401.png",
      "MonthlyNewsletter": "monthly-newsletter.html"
    },
    "DefaultImages": {
      "ProductPlaceholder": "/company/logos/noimages.jpg"
    }

  },
  "WebAPIConfiguration": {
    "APIDomain": [
      "https://www.tumdex.com/api",
      "https://tumdex.com/api"

    ],
    "AllowedOrigins": [
      "https://www.tumdex.com",
      "https://tumdex.com",
      "https://localhost:4200",
      "http://localhost:4200"
    ]
  },
  "AngularClientUrl": "https://www.tumdex.com"
}